(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{17:function(e,a,t){e.exports=t(39)},22:function(e,a,t){},23:function(e,a,t){},3:function(e){e.exports=JSON.parse('{"company":"Topmac Digital","title":"dashboard telegram","api":{"getJson":"https://9ia11njxu4.execute-api.us-east-1.amazonaws.com/dev/get-config","save":"https://9ia11njxu4.execute-api.us-east-1.amazonaws.com/dev/save-config","getAllUsers":"https://9ia11njxu4.execute-api.us-east-1.amazonaws.com/dev/get-all-users","banUserById":"https://9ia11njxu4.execute-api.us-east-1.amazonaws.com/dev/ban-user-by-id"}}')},39:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(9),s=t.n(c),o=(t(22),t(23),t(24),t(1)),i=t(11),m=t(2),u=t.n(m),d=t(4),p=t(3),E=function(e){return l.a.createElement("div",{className:"loader"})},f=t(10),v=t.n(f),b=function(e){var a=e.shouldWarn,t=e.setShouldWarn,n=l.a.useState(!0),r=Object(o.a)(n,2),c=r[0],s=r[1];l.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.api.getJson).then((function(e){return e.json()})).then((function(e){var a=e.body;Object.keys(a).forEach((function(e){var t=document.querySelector("#".concat(e));t&&(t.value=a[e])}))})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),s(!1)}),[c]);var i=l.a.useCallback(function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.persist(),a.preventDefault(),t(!1),n={},new FormData(a.target).forEach((function(e,a){return n[a]=e})),"https://71sxr3ih4k.execute-api.us-east-1.amazonaws.com/dev/save-config",e.next=8,fetch("https://71sxr3ih4k.execute-api.us-east-1.amazonaws.com/dev/save-config",{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()}));case 8:window.alert("dados salvos com sucesso!");case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[t]);if(c)return l.a.createElement(E,null);return l.a.createElement("div",{className:"form container has-text-left "},l.a.createElement("form",{onChange:function(e){e.persist(),a||t(!0),console.log(e.target)},onSubmit:i,className:"is-left"},l.a.createElement("h1",{className:"title"},"Geral:"),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Usu\xe1rios Blindados (separados por v\xedrgula)"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"whitelist",id:"whitelist",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("hr",null),l.a.createElement("h1",{className:"title"},"Mensagens:"),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"In\xedcio da autentica\xe7\xe3o"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"start_message",id:"start_message",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Boas vindas"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"greetings",id:"greetings",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Contato recebido"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"received",id:"received",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Sobrescrever contato"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"override",id:"override",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"limite de tempo excedido"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"exceeded_timeout",id:"exceeded_timeout",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"n\xfamero ativo"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"active_number",id:"active_number",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"n\xfamero inativo"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"inactive_number",id:"inactive_number",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"fim do tempo limite"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"end_of_timeout",id:"end_of_timeout",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"bot\xe3o de compartilhamento de n\xfamero"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"share_button",id:"share_button",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"problemas na assinatura"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"cancel_association",id:"cancel_association",className:"textarea",placeholder:"insira aqui seu text"}))),l.a.createElement("h1",{className:"title"},"Timeouts: ",l.a.createElement("small",{className:"is-size-5 has-text-weight-light"},"(valores em segundos)")),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"tempo limite para recebimento do n\xfamero"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{className:"input",name:"timeout_receive",id:"timeout_receive",type:"text",placeholder:"Text input"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"tempo limite para bloqueio de usu\xe1rio"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{className:"input",name:"timeout_block",id:"timeout_block",type:"text",placeholder:"Text input"}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"button is-link",type:"submit"},"Salvar todas as modifica\xe7\xf5es")))},h=t(16),N=t.n(h),x=t(5),g=t.n(x),y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},w=function(){var e=Object(d.a)(u.a.mark((function e(a,t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.api.banUserById,{method:"POST",body:JSON.stringify({userId:a,groupId:t,reason:n})}).then((function(e){console.log(e),e&&e.data&&!e.data.ok?alert("problema ao deletar o usuario, contate o suporte!"):(alert("usuario deletado com sucesso!"),window.location.reload())}));case 2:console.log(a,t);case 3:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),O=function(e){var a=e.isOpen,t=e.closeModal,n=e.data,r=l.a.useState(null),c=Object(o.a)(r,2),s=c[0],i=c[1];return l.a.createElement(v.a,{isOpen:a,onRequestClose:t,style:y,shouldCloseOnOverlayClick:!0},l.a.createElement("h2",null,"Descreva para o usuario o motivo do banimento"),l.a.createElement("div",{className:"control reason"},l.a.createElement("textarea",{onChange:function(e){e.persist(),i(e.target.value)},className:"textarea"})),l.a.createElement("div",{className:"action-buttons"},l.a.createElement("button",{onClick:function(){var e=g.a.get(n,"userId",""),a=g.a.get(n,"groupId");w(e,a,s),t()},className:"button is-primary"},"Confirmar"),l.a.createElement("button",{onClick:t,className:"button is-secondary"},"Cancelar")))},k=t(6),j=function(e){return function(a){return l.a.createElement("span",{className:"trigger-container"},e,a?l.a.createElement(k.b,null):l.a.createElement(k.a,null))}},_=function(e){var a=e.groupId,t=e.users,n=e.onDelete,r="-1001241265705"===a?"COMUNIDADE TOPMAC DE SINAIS E ACOMPANHAMENTOS":"Grupo de teste",c="container has-background-info has-text-white";return l.a.createElement(N.a,{className:c,openedClassName:c,contentOuterClassName:"has-background-white",trigger:j(r)(!1),triggerWhenOpen:j(r)(!0),key:a},l.a.createElement(S,{users:t,id:a,onDelete:n}))},S=function(e){var a=e.users,t=e.id,n=e.onDelete;return l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table group-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"nome"),l.a.createElement("th",null,"telefone"),l.a.createElement("th",null,"estado"),l.a.createElement("th",null,"a\xe7\xf5es"))),l.a.createElement("tbody",null,a.filter((function(e){return!e.removed})).map((function(e){var a=e.phone_number,r=e.active,c=e.user_id,s=e.user;return l.a.createElement("tr",{key:c},l.a.createElement("td",null,s?s.name:""),l.a.createElement("td",null,a),l.a.createElement("td",null,l.a.createElement("span",{className:"tag ".concat(r?"is-success":"is-danger")},r?"ativo":"inativo")),l.a.createElement("td",null,l.a.createElement(k.c,{className:"icon",onClick:function(){return n(c,t)}})))})))))},C=function(e){var a=l.a.useState(!1),t=Object(o.a)(a,2),n=t[0],r=t[1],c=l.a.useState(null),s=Object(o.a)(c,2),i=s[0],m=s[1],f=l.a.useState(null),v=Object(o.a)(f,2),b=v[0],h=v[1],N=function(e,a){r(!0),m({userId:e,groupId:a})};return l.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.api.getAllUsers).then((function(e){return e.json()}));case 2:a=e.sent,h(g.a.groupBy(a.users,"group_id"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]),b?l.a.createElement(l.a.Fragment,null,l.a.createElement(O,{isOpen:n,data:i,closeModal:function(){r(!1),m(null)}}),g.a.map(b,(function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(_,{users:e,groupId:a,onDelete:N}))}))):l.a.createElement(E,null)},q=(n={},Object(i.a)(n,"gerenciamento",(function(e){return l.a.createElement(C,null)})),Object(i.a)(n,"mensagens",(function(e){return l.a.createElement(b,e)})),n),I=function(e){var a=e.active,t=e.setTab,n=e.tabName;return l.a.createElement("li",{className:n===a?"is-active":"",key:n},l.a.createElement("a",{onClick:function(){return t(n)}},n.toUpperCase()))},D=function(e){var a=l.a.useState("gerenciamento"),t=Object(o.a)(a,2),n=t[0],r=t[1],c=l.a.useState(!1),s=Object(o.a)(c,2),i=s[0],m=s[1],u=q[n],d=function(e){var a=!0;i&&(a=window.confirm("h\xe1 altera\xe7\xf5es n\xe3o salvas que ser\xe3o perdidas. tem certeza que deseja mudar de aba?")),a&&(r(e),m(!1))};return l.a.createElement("div",{className:"tablist"},l.a.createElement("div",{className:"tabs is-centered"},l.a.createElement("ul",null,Object.keys(q).map((function(e){return l.a.createElement(I,{key:e,active:n,setTab:d,tabName:e})})))),l.a.createElement("div",{className:"container"},l.a.createElement(u,{shouldWarn:i,setShouldWarn:m,setTab:r})))},T=function(e){return l.a.createElement("section",{className:"hero is-info bg-blue"},l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"title"},p.company||"company"),l.a.createElement("h2",{className:"subtitle"},p.title||"title"))))};var A=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(T,null),l.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.30ad7a17.chunk.js.map