(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{17:function(e,a,t){e.exports=t(39)},22:function(e,a,t){},23:function(e,a,t){},3:function(e){e.exports=JSON.parse('{"company":"Topmac Digital","title":"dashboard telegram","api":{"getJson":"https://9ia11njxu4.execute-api.us-east-1.amazonaws.com/dev/get-config","save":"https://9ia11njxu4.execute-api.us-east-1.amazonaws.com/dev/save-config","getAllUsers":"https://9ia11njxu4.execute-api.us-east-1.amazonaws.com/dev/get-all-users","banUserById":"https://9ia11njxu4.execute-api.us-east-1.amazonaws.com/dev/ban-user-by-id"}}')},39:function(e,a,t){"use strict";t.r(a);var n,l=t(0),r=t.n(l),c=t(9),s=t.n(c),o=(t(22),t(23),t(24),t(1)),i=t(11),m=t(2),u=t.n(m),d=t(4),E=t(3),p=function(e){return r.a.createElement("div",{className:"loader"})},f=t(10),v=t.n(f),b=function(e){var a=e.shouldWarn,t=e.setShouldWarn,n=r.a.useState(!0),l=Object(o.a)(n,2),c=l[0],s=l[1];r.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E.api.getJson).then((function(e){return e.json()})).then((function(e){var a=e.body;Object.keys(a).forEach((function(e){var t=document.querySelector("#".concat(e));t&&(t.value=a[e])}))})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),s(!1)}),[c]);var i=r.a.useCallback(function(){var e=Object(d.a)(u.a.mark((function e(a){var n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.persist(),a.preventDefault(),t(!1),n={},new FormData(a.target).forEach((function(e,a){return n[a]=e})),l=E.api.save,e.next=8,fetch(l,{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()}));case 8:window.alert("dados salvos com sucesso!");case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[t]);if(c)return r.a.createElement(p,null);return r.a.createElement("div",{className:"form container has-text-left "},r.a.createElement("form",{onChange:function(e){e.persist(),a||t(!0),console.log(e.target)},onSubmit:i,className:"is-left"},r.a.createElement("h1",{className:"title"},"Geral:"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Usu\xe1rios Blindados (separados por v\xedrgula)"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"whitelist",id:"whitelist",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title"},"Mensagens:"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"In\xedcio da autentica\xe7\xe3o"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"start_message",id:"start_message",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Boas vindas"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"greetings",id:"greetings",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Contato recebido"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"received",id:"received",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Sobrescrever contato"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"override",id:"override",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"limite de tempo excedido"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"exceeded_timeout",id:"exceeded_timeout",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"n\xfamero ativo"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"active_number",id:"active_number",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"n\xfamero inativo"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"inactive_number",id:"inactive_number",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"fim do tempo limite"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"end_of_timeout",id:"end_of_timeout",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"bot\xe3o de compartilhamento de n\xfamero"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"share_button",id:"share_button",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"problemas na assinatura"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{name:"cancel_association",id:"cancel_association",className:"textarea",placeholder:"insira aqui seu text"}))),r.a.createElement("h1",{className:"title"},"Timeouts: ",r.a.createElement("small",{className:"is-size-5 has-text-weight-light"},"(valores em segundos)")),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"tempo limite para recebimento do n\xfamero"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{className:"input",name:"timeout_receive",id:"timeout_receive",type:"text",placeholder:"Text input"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"tempo limite para bloqueio de usu\xe1rio"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{className:"input",name:"timeout_block",id:"timeout_block",type:"text",placeholder:"Text input"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"button is-link",type:"submit"},"Salvar todas as modifica\xe7\xf5es")))},h=t(16),N=t.n(h),x=t(5),g=t.n(x),y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},w=function(){var e=Object(d.a)(u.a.mark((function e(a,t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E.api.banUserById,{method:"POST",body:JSON.stringify({userId:a,groupId:t,reason:n})}).then((function(e){console.log(e),e&&e.data&&!e.data.ok?alert("problema ao deletar o usuario, contate o suporte!"):(alert("usuario deletado com sucesso!"),window.location.reload())}));case 2:console.log(a,t);case 3:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),O=function(e){var a=e.isOpen,t=e.closeModal,n=e.data,l=r.a.useState(null),c=Object(o.a)(l,2),s=c[0],i=c[1];return r.a.createElement(v.a,{isOpen:a,onRequestClose:t,style:y,shouldCloseOnOverlayClick:!0},r.a.createElement("h2",null,"Descreva para o usuario o motivo do banimento"),r.a.createElement("div",{className:"control reason"},r.a.createElement("textarea",{onChange:function(e){e.persist(),i(e.target.value)},className:"textarea"})),r.a.createElement("div",{className:"action-buttons"},r.a.createElement("button",{onClick:function(){var e=g.a.get(n,"userId",""),a=g.a.get(n,"groupId");w(e,a,s),t()},className:"button is-primary"},"Confirmar"),r.a.createElement("button",{onClick:t,className:"button is-secondary"},"Cancelar")))},k=t(6),_=function(e){return function(a){return r.a.createElement("span",{className:"trigger-container"},e,a?r.a.createElement(k.b,null):r.a.createElement(k.a,null))}},j=function(e){var a=e.groupId,t=e.users,n=e.onDelete,l="-1001241265705"===a?"COMUNIDADE TOPMAC DE SINAIS E ACOMPANHAMENTOS":"Grupo de teste",c="container has-background-info has-text-white";return r.a.createElement(N.a,{className:c,openedClassName:c,contentOuterClassName:"has-background-white",trigger:_(l)(!1),triggerWhenOpen:_(l)(!0),key:a},r.a.createElement(S,{users:t,id:a,onDelete:n}))},S=function(e){var a=e.users,t=e.id,n=e.onDelete;return r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table group-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"usu\xe1rio"),r.a.createElement("th",null,"nome"),r.a.createElement("th",null,"telefone"),r.a.createElement("th",null,"estado"),r.a.createElement("th",null,"a\xe7\xf5es"))),r.a.createElement("tbody",null,a.filter((function(e){return!e.removed})).map((function(e){var a=e.phone_number,l=e.active,c=e.user_id,s=e.user;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,"@",s.username),r.a.createElement("td",null,s.first_name),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("span",{className:"tag ".concat(l?"is-success":"is-danger")},l?"ativo":"inativo")),r.a.createElement("td",null,r.a.createElement(k.c,{className:"icon",onClick:function(){return n(c,t)}})))})))))},C=function(e){var a=r.a.useState(!1),t=Object(o.a)(a,2),n=t[0],l=t[1],c=r.a.useState(null),s=Object(o.a)(c,2),i=s[0],m=s[1],f=r.a.useState(null),v=Object(o.a)(f,2),b=v[0],h=v[1],N=function(e,a){l(!0),m({userId:e,groupId:a})};return r.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E.api.getAllUsers).then((function(e){return e.json()}));case 2:a=e.sent,h(g.a.groupBy(a.users,"group_id"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]),b?r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{isOpen:n,data:i,closeModal:function(){l(!1),m(null)}}),g.a.map(b,(function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(j,{users:e,groupId:a,onDelete:N}))}))):r.a.createElement(p,null)},q=(n={},Object(i.a)(n,"gerenciamento",(function(e){return r.a.createElement(C,null)})),Object(i.a)(n,"mensagens",(function(e){return r.a.createElement(b,e)})),n),I=function(e){var a=e.active,t=e.setTab,n=e.tabName;return r.a.createElement("li",{className:n===a?"is-active":"",key:n},r.a.createElement("a",{onClick:function(){return t(n)}},n.toUpperCase()))},D=function(e){var a=r.a.useState("gerenciamento"),t=Object(o.a)(a,2),n=t[0],l=t[1],c=r.a.useState(!1),s=Object(o.a)(c,2),i=s[0],m=s[1],u=q[n],d=function(e){var a=!0;i&&(a=window.confirm("h\xe1 altera\xe7\xf5es n\xe3o salvas que ser\xe3o perdidas. tem certeza que deseja mudar de aba?")),a&&(l(e),m(!1))};return r.a.createElement("div",{className:"tablist"},r.a.createElement("div",{className:"tabs is-centered"},r.a.createElement("ul",null,Object.keys(q).map((function(e){return r.a.createElement(I,{key:e,active:n,setTab:d,tabName:e})})))),r.a.createElement("div",{className:"container"},r.a.createElement(u,{shouldWarn:i,setShouldWarn:m,setTab:l})))},T=function(e){return r.a.createElement("section",{className:"hero is-info bg-blue"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title"},E.company||"company"),r.a.createElement("h2",{className:"subtitle"},E.title||"title"))))};var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.4c543d91.chunk.js.map