(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{1:function(e){e.exports=JSON.parse('{"company":"Topmac Digital","title":"dashboard telegram","api":{"getJson":"https://71sxr3ih4k.execute-api.us-east-1.amazonaws.com/dev/get-config","save":"https://71sxr3ih4k.execute-api.us-east-1.amazonaws.com/dev/get-config","getAllUsers":"https://71sxr3ih4k.execute-api.us-east-1.amazonaws.com/dev/get-all-users","banUserById":"https://71sxr3ih4k.execute-api.us-east-1.amazonaws.com/dev/ban-user-by-id"}}')},21:function(e,a,t){e.exports=t(42)},26:function(e,a,t){},27:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(10),s=t.n(c),o=(t(26),t(27),t(28),t(6)),i=t(12),m=t(2),u=t.n(m),d=t(5),p=t(4),E=t(1),f=function(e){return l.a.createElement("div",{className:"loader"})},v=t(11),h=t.n(v),b=function(e){var a=e.shouldWarn,t=e.setShouldWarn,n=l.a.useState(!0),r=Object(p.a)(n,2),c=r[0],s=r[1];l.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E.api.getJson).then((function(e){return e.json()})).then((function(e){var a=e.body;Object.keys(a).forEach((function(e){var t=document.querySelector("#".concat(e));t&&(t.value=a[e])}))})).catch((function(e){throw e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),s(!1)}),[c]);var o=l.a.useCallback(function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.persist(),a.preventDefault(),t(!1),n={},new FormData(a.target).forEach((function(e,a){return n[a]=e})),"https://71sxr3ih4k.execute-api.us-east-1.amazonaws.com/dev/save-config",e.next=8,fetch("https://71sxr3ih4k.execute-api.us-east-1.amazonaws.com/dev/save-config",{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()}));case 8:window.alert("dados salvos com sucesso!");case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[t]);if(c)return l.a.createElement(f,null);return l.a.createElement("div",{className:"form container has-text-left "},l.a.createElement("form",{onChange:function(e){e.persist(),a||t(!0),console.log(e.target)},onSubmit:o,className:"is-left"},l.a.createElement("h1",{className:"title"},"Geral:"),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Usu\xe1rios Blindados (separados por v\xedrgula)"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"whitelist",id:"whitelist",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("hr",null),l.a.createElement("h1",{className:"title"},"Mensagens:"),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"In\xedcio da autentica\xe7\xe3o"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"start_message",id:"start_message",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Boas vindas"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"greetings",id:"greetings",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Contato recebido"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"received",id:"received",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Sobrescrever contato"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"override",id:"override",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"limite de tempo excedido"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"exceeded_timeout",id:"exceeded_timeout",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"n\xfamero ativo"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"active_number",id:"active_number",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"n\xfamero inativo"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"inactive_number",id:"inactive_number",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"fim do tempo limite"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"end_of_timeout",id:"end_of_timeout",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"bot\xe3o de compartilhamento de n\xfamero"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"share_button",id:"share_button",className:"textarea",type:"text",placeholder:"insira aqui seu text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"problemas na assinatura"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{name:"cancel_association",id:"cancel_association",className:"textarea",placeholder:"insira aqui seu text"}))),l.a.createElement("h1",{className:"title"},"Timeouts: ",l.a.createElement("small",{className:"is-size-5 has-text-weight-light"},"(valores em segundos)")),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"tempo limite para recebimento do n\xfamero"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{className:"input",name:"timeout_receive",id:"timeout_receive",type:"text",placeholder:"Text input"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"tempo limite para bloqueio de usu\xe1rio"),l.a.createElement("div",{class:"control"},l.a.createElement("input",{className:"input",name:"timeout_block",id:"timeout_block",type:"text",placeholder:"Text input"}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"button is-link",type:"submit"},"Salvar todas as modifica\xe7\xf5es")))},N=t(19),x=t.n(N),g=t(13),y=t.n(g),w=t(20),k=t(3),O=t.n(k),_={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},S=function(){var e=Object(w.a)(y.a.mark((function e(a,t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E.api.banUserById,{method:"POST",body:JSON.stringify({userId:a,groupId:t,reason:n})}).then((function(e){console.log(e),e&&e.data&&!e.data.ok?alert("problema ao deletar o usuario, contate o suporte!"):(alert("usuario deletado com sucesso!"),window.location.reload())}));case 2:console.log(a,t);case 3:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),j=function(e){var a=e.isOpen,t=e.closeModal,n=e.data,r=l.a.useState(null),c=Object(o.a)(r,2),s=c[0],i=c[1];return l.a.createElement(h.a,{isOpen:a,onRequestClose:t,style:_,shouldCloseOnOverlayClick:!0},l.a.createElement("h2",null,"Descreva para o usuario o motivo do banimento"),l.a.createElement("div",{className:"control reason"},l.a.createElement("textarea",{onChange:function(e){e.persist(),i(e.target.value)},className:"textarea"})),l.a.createElement("div",{className:"action-buttons"},l.a.createElement("button",{onClick:function(){var e=O.a.get(n,"userId",""),a=O.a.get(n,"groupId");S(e,a,s),t()},className:"button is-primary"},"Confirmar"),l.a.createElement("button",{onClick:t,className:"button is-secondary"},"Cancelar")))},C=t(7),q=function(e){return function(a){return l.a.createElement("span",{className:"trigger-container"},e,a?l.a.createElement(C.b,null):l.a.createElement(C.a,null))}},I=function(e){var a=e.groupId,t=e.users,n=e.onDelete,r="-1001241265705"===a?"COMUNIDADE TOPMAC DE SINAIS E ACOMPANHAMENTOS":"Grupo de teste",c="container has-background-info has-text-white";return l.a.createElement(x.a,{className:c,openedClassName:c,contentOuterClassName:"has-background-white",trigger:q(r)(!1),triggerWhenOpen:q(r)(!0),key:a},l.a.createElement(D,{users:t,id:a,onDelete:n}))},D=function(e){var a=e.users,t=e.id,n=e.onDelete;return l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table group-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"usu\xe1rio"),l.a.createElement("th",null,"nome"),l.a.createElement("th",null,"telefone"),l.a.createElement("th",null,"estado"),l.a.createElement("th",null,"a\xe7\xf5es"))),l.a.createElement("tbody",null,a.filter((function(e){return!e.removed})).map((function(e){var a=e.phone_number,r=e.active,c=e.user_id,s=e.user;return l.a.createElement("tr",{key:a},l.a.createElement("td",null,"@",s.username),l.a.createElement("td",null,s.first_name),l.a.createElement("td",null,a),l.a.createElement("td",null,l.a.createElement("span",{className:"tag ".concat(r?"is-success":"is-danger")},r?"ativo":"inativo")),l.a.createElement("td",null,l.a.createElement(C.c,{className:"icon",onClick:function(){return n(c,t)}})))})))))},T=function(e){var a=l.a.useState(!1),t=Object(p.a)(a,2),n=t[0],r=t[1],c=l.a.useState(null),s=Object(p.a)(c,2),o=s[0],i=s[1],m=l.a.useState(null),v=Object(p.a)(m,2),h=v[0],b=v[1],N=function(e,a){r(!0),i({userId:e,groupId:a})};return l.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E.api.getAllUsers).then((function(e){return e.json()}));case 2:a=e.sent,b(O.a.groupBy(a.users,"group_id"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]),h?l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{isOpen:n,data:o,closeModal:function(){r(!1),i(null)}}),O.a.map(h,(function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(I,{users:e,groupId:a,onDelete:N}))}))):l.a.createElement(f,null)},A=(n={},Object(i.a)(n,"gerenciamento",(function(e){return l.a.createElement(T,null)})),Object(i.a)(n,"mensagens",(function(e){return l.a.createElement(b,e)})),n),z=function(e){var a=e.active,t=e.setTab,n=e.tabName;return l.a.createElement("li",{className:n===a?"is-active":"",key:n},l.a.createElement("a",{onClick:function(){return t(n)}},n.toUpperCase()))},M=function(e){var a=l.a.useState("gerenciamento"),t=Object(o.a)(a,2),n=t[0],r=t[1],c=l.a.useState(!1),s=Object(o.a)(c,2),i=s[0],m=s[1],u=A[n],d=function(e){var a=!0;i&&(a=window.confirm("h\xe1 altera\xe7\xf5es n\xe3o salvas que ser\xe3o perdidas. tem certeza que deseja mudar de aba?")),a&&(r(e),m(!1))};return l.a.createElement("div",{className:"tablist"},l.a.createElement("div",{className:"tabs is-centered"},l.a.createElement("ul",null,Object.keys(A).map((function(e){return l.a.createElement(z,{key:e,active:n,setTab:d,tabName:e})})))),l.a.createElement("div",{className:"container"},l.a.createElement(u,{shouldWarn:i,setShouldWarn:m,setTab:r})))},B=function(e){return l.a.createElement("section",{className:"hero is-info bg-blue"},l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"title"},E.company||"company"),l.a.createElement("h2",{className:"subtitle"},E.title||"title"))))};var J=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(B,null),l.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.76e23142.chunk.js.map